---
- name: Setting up master node
  # Target nodes
  hosts:
    - ss2023-00
  user: cc
  become: true
  roles: 
    - basic
    - master
  vars:
    slurm_cluster_name: galaxy.cluster
    # Chameleon Cloud
    # slurm_compute_cpus: 48
    # slurm_compute_mem: 187000
    # Vagrant
    slurm_compute_cpus: 2
    slurm_compute_mem: 3924
    slurm_master_hostname: ss2023-00
    slurm_user_passwd: jlDmPv
    munge_user_passwd: jlDmPv
    # All cluster nodes
    # Used to update /etc/hosts
    # Used to create slurm.conf file
    cluster_hostnames:
      - ss2023-00
    nfs_exports:
      # users accounts
      - /home *(rw,sync,no_root_squash,no_subtree_check)
      # munge authentication keys
      - /etc/munge *(rw,sync,no_root_squash,no_subtree_check)
      # for slurm.confg and gres.conf files 
      - /etc/slurm-llnl *(rw,sync,no_root_squash,no_subtree_check)
